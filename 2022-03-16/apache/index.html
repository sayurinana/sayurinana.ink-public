<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>apache - 柒柒の窝</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="柒柒の窝"><meta name="msapplication-TileImage" content="https://s2.loli.net/2022/03/22/tYA8x4USsG2h3Cf.jpg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="柒柒の窝"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="apache软件学习"><meta property="og:type" content="article"><meta property="og:title" content="柒柒の窝"><meta property="og:url" content="https://sayurinana.ink/2022-03-16/apache/"><meta property="og:site_name" content="柒柒の窝"><meta property="og:description" content="apache软件学习"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://s2.loli.net/2022/03/27/zKIjtbxcRae1w4G.png"><meta property="og:image" content="https://s2.loli.net/2022/03/27/ugLqkjGKZB6tnfS.png"><meta property="og:image" content="https://s2.loli.net/2022/03/27/GbiKpLY2SXck4Qe.png"><meta property="article:published_time" content="2022-03-16T02:17:30.000Z"><meta property="article:modified_time" content="2024-02-26T13:54:12.628Z"><meta property="article:author" content="樱缘柒柒"><meta property="article:tag" content="apache"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://s2.loli.net/2022/03/27/zKIjtbxcRae1w4G.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://sayurinana.ink/2022-03-16/apache/"},"headline":"柒柒の窝","image":["https://s2.loli.net/2022/03/27/zKIjtbxcRae1w4G.png","https://s2.loli.net/2022/03/27/ugLqkjGKZB6tnfS.png","https://s2.loli.net/2022/03/27/GbiKpLY2SXck4Qe.png"],"datePublished":"2022-03-16T02:17:30.000Z","dateModified":"2024-02-26T13:54:12.628Z","author":{"@type":"Person","name":"樱缘柒柒"},"description":"apache软件学习"}</script><link rel="canonical" href="https://sayurinana.ink/2022-03-16/apache/"><link rel="icon" href="https://s2.loli.net/2022/03/22/tYA8x4USsG2h3Cf.jpg"><meta name="referrer" content="no-referrer-when-downgrade"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Ubuntu:400,600|Source+Code+Pro|Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;subset=latin,latin-ext|Inconsolata|Itim|Lobster.css"><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="/js/globalUtils.js"></script><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.4.1"></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://s2.loli.net/2022/03/25/ehIx6UHAZfSsJKw.png" alt="柒柒の窝" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">时间轴归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a><a class="navbar-item" href="/album">相册</a><a class="navbar-item" href="/message">留言板</a><a class="navbar-item" href="/self-talking">碎碎念</a><a class="navbar-item" href="/music">Music</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/removeif/hexo-theme-amazing"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><!--!--><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><i class="far fa-calendar-plus"> </i>2022-03-16  <a class="commentCountImg" href="/2022-03-16/apache/#comment-container"><span class="display-none-class">933e2a3bc22ff185d56b4fe3a71ab0d9</span><i class="far fa-comment-dots"></i> <span class="commentCount" id="933e2a3bc22ff185d56b4fe3a71ab0d9">99+</span>  </a><span class="level-item"><i class="far fa-clock"> </i>1 小时  <i class="fas fa-pencil-alt"> </i>7.6 k</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">apache</h1><div class="content"><blockquote>
<p>apache软件学习</p>
</blockquote>
<span id="more"></span>
<h1 id="基础简介"><a class="markdownIt-Anchor" href="#基础简介"></a> 基础简介</h1>
<ol>
<li>linux下常用web服务器软件：<code>Apache</code></li>
</ol>
<blockquote>
<p>注：windows server使用的web服务器软件叫 <strong>web服务器（IIS）</strong>，</p>
</blockquote>
<ol>
<li>Apache主程序名称：<code>httpd</code></li>
<li>Apache主配置文件：<code>/etc/httpd/conf/httpd.conf</code></li>
</ol>
<h1 id="apache配置文件解析"><a class="markdownIt-Anchor" href="#apache配置文件解析"></a> Apache配置文件解析</h1>
<h2 id="基本概念"><a class="markdownIt-Anchor" href="#基本概念"></a> 基本概念</h2>
<p>Apache的配置文件，除了注释之外，主要由<strong>指令</strong>和<strong>容器</strong>组成</p>
<p>（语法格式详见<a target="_blank" rel="noopener" href="https://abackup2u.site/2022/03/15/%E8%AF%AD%E6%B3%95%E6%8F%8F%E8%BF%B0%E6%A0%BC%E5%BC%8F/">语法描述格式</a>）</p>
<p>指令语法：<code> &lt;指令名&gt; [参数]</code></p>
<p>容器语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\&lt;&lt;容器名&gt; [参数] \&gt;</span><br><span class="line">\&lt;/&lt;容器名&gt; \&gt;</span><br></pre></td></tr></table></figure>
<p>例：（出现的容器和指令及其参数的具体含义此处暂不讲解，只展示一下形式）</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory /&gt;</span><br><span class="line"><span class="comment">#容器名是Directory 参数是/</span></span><br><span class="line">    AllowOverride none</span><br><span class="line">	<span class="comment">#指令是AllowOverride 参数是none</span></span><br><span class="line">    Require all denied</span><br><span class="line">	<span class="comment">#指令是Require 参数是all denied</span></span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>
<p>配置文件里直接出现的指令作用于全局，</p>
<p>在容器内出现的指令作用于父容器，</p>
<p><strong>Apache的容器和指令是不区分大小写的</strong>，指令名和容器名组成单词的首字母大写是一个良好的语法书写习惯</p>
<h2 id="虚拟主机及主机概念"><a class="markdownIt-Anchor" href="#虚拟主机及主机概念"></a> 虚拟主机及主机概念</h2>
<p>Apache的<strong>多站点</strong>是通过<strong>虚拟主机</strong>完成的，</p>
<p>Apache的虚拟主机体现在其配置文件的<code>&lt;VirtualHost&gt;&lt;/VirtualHost&gt;</code>容器内</p>
<p>逻辑上<strong>虚拟主机</strong>和<strong>物理主机</strong>（Apache中<strong>主机</strong>的概念在后面）是同级的，绝大多数配置项都是相同的</p>
<p>图例：</p>
<p>注：黄色框表示文件，绿色表示文件内容，蓝色框表示容器，紫色表示容器内容</p>
<p><img src="https://s2.loli.net/2022/03/27/zKIjtbxcRae1w4G.png" alt="image-20220314203259341" /></p>
<p>关于VirtualHost，它也是容器，但它的内容同时可视作和文件内容（物理主机全局域）同级，</p>
<p>物理主机有且只有一个，虚拟主机可以没有或者存在多个，</p>
<p>关于Apache的<strong>主机</strong>：</p>
<p>Apache是一个提供web服务的软件，</p>
<p>它的主机概念在逻辑上即是指一个提供web内容的服务器，</p>
<p>所以这个主机最核心的几点配置就是它的：<strong>IP、端口、域名、主目录</strong></p>
<p>并且如同一般的常识一样，端口可以缺省，默认是80，域名可以根据实际情况决定有或者没有，</p>
<p><strong>物理主机</strong>的配置就是Apache配置文件的内容，也就是<strong>全局配置</strong>，</p>
<p><strong>虚拟主机</strong>的配置就是虚拟主机容器<code>&lt;VirtualHost&gt;&lt;/VirtualHost&gt;</code>的内容，</p>
<p>有多少个虚拟主机容器就有多少个虚拟主机（假设都配置无误，不冲突，都有效），</p>
<blockquote>
<p>声明：</p>
<ol>
<li>下文中，若无需特别指出时，统一使用主机，主要是便于讲解指令和容器，具体是指物理主机还是虚拟主机要根据实际情况而定，需要指出时，会使用术语物理主机和虚拟主机</li>
<li>为避免冲突，使用<strong>服务器</strong>来表示运行CentOS7、运行Apache的机器</li>
</ol>
</blockquote>
<h2 id="指令listen"><a class="markdownIt-Anchor" href="#指令listen"></a> 指令：Listen</h2>
<p>语法：<code>Listen [&lt;域名&gt;&lt;:&gt;]&lt;端口号&gt;</code></p>
<p>作用于物理主机</p>
<p>语义：让Apache监听指定的端口，或者特定的IP上的端口</p>
<p>例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Listen 80</span><br><span class="line"><span class="comment">#监听访问所有IP上80端口的请求</span></span><br><span class="line"><span class="comment">#相对于Windows Server里的绑定*:80</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Listen 192.168.1.112:80</span><br><span class="line"><span class="comment">#监听192.168.1.112上80端口的请求</span></span><br><span class="line"><span class="comment">#相对于Windows Server里的绑定192.168.1.112:80</span></span><br></pre></td></tr></table></figure>
<p>错误示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Listen 80</span><br><span class="line">Listen 192.168.1.112:80</span><br><span class="line"><span class="comment">#既设置了监听所有,又设置监听特定IP,这两个设置冲突了</span></span><br></pre></td></tr></table></figure>
<p>改正：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Listen 80</span></span><br><span class="line">Listen 192.168.1.112:80</span><br><span class="line"><span class="comment">#可以把监听所有的配置指令删除或者注释掉,使之无效,</span></span><br><span class="line"><span class="comment">#虽然监听所有是可以达到监听特定IP的目的的，</span></span><br><span class="line"><span class="comment">#但这样会使安全性失去控制，是不安全的，</span></span><br><span class="line"><span class="comment">#管理员应该在配置的同时尽可能注意安全性，手动添加监听特定IP和端口</span></span><br></pre></td></tr></table></figure>
<p>可以抽象的理解为一个Apache自己的一个简单的防火墙，</p>
<p>只有用监听到了，Apache才能收到访问请求，</p>
<p><code>Listen 192.168.1.112:80</code>就像是让Apache自己的防火墙放行192.168.1.112，80端口</p>
<h2 id="指令serverroot"><a class="markdownIt-Anchor" href="#指令serverroot"></a> 指令：ServerRoot</h2>
<p>语法：<code>ServerRoot &lt;绝对路径&gt;</code></p>
<p>作用于主机</p>
<p>语义：将制定的<strong>绝对路径</strong>设置为主机的<strong>配置根路径</strong></p>
<p>配置文件里出现的服务器中的路径可以直接使用绝对路径，也可以使用<strong>相对于配置根路径的相对路径</strong></p>
<p>例：见下文<a href="#%E6%8C%87%E4%BB%A4%EF%BC%9AInclude">指令：Include</a></p>
<h2 id="指令servername"><a class="markdownIt-Anchor" href="#指令servername"></a> 指令：ServerName</h2>
<p>语法：<code>ServerName &lt;IP&gt;|&lt;域名&gt;[&lt;:&gt;端口号]</code></p>
<p>作用于主机</p>
<p>语义：给主机绑定上指定的IP或域名，可同时绑定端口号</p>
<p>注：客户端访问服务器时使用的URL服务器是能知道的，所以虽然可以让多个域名指向同一个IP，</p>
<p>但是服务器是能区分访问时使用的不同的域名的，通过URL域名访问和ServerName绑定域名的配合能实现基于域名的多站点</p>
<h2 id="指令directoryindex"><a class="markdownIt-Anchor" href="#指令directoryindex"></a> 指令：DirectoryIndex</h2>
<p>语法：<code>DirectoryIndex &lt;文件路径&gt;</code></p>
<p>作用于目录容器（见下文<a href="#%E5%AE%B9%E5%99%A8%EF%BC%9ADirectory">容器：Directory</a>）</p>
<p>将指定的文件设为默认文档，可以有多条，要注意顺序，</p>
<p>一般是出现在Directory容器内，文件路径通常使用相对路径，相对于Directory的路径</p>
<p>例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory <span class="string">&quot;/var/www/html&quot;</span>&gt;</span><br><span class="line">	DirectoryIndex index.html</span><br><span class="line">	DirectoryIndex index.php</span><br><span class="line">	DirectoryIndex index.htm</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"><span class="comment">#配置效果相当于Windows Server设置默认文档列表</span></span><br><span class="line"><span class="comment">#1.index.html</span></span><br><span class="line"><span class="comment">#2.index.php</span></span><br><span class="line"><span class="comment">#3.index.htm</span></span><br></pre></td></tr></table></figure>
<h2 id="指令include"><a class="markdownIt-Anchor" href="#指令include"></a> 指令：Include</h2>
<p>语法：<code>Include &lt;文件匹配器&gt;</code></p>
<p>作用于配置文件（物理主机）</p>
<blockquote>
<p>文件匹配器：用于定位要包含的配置文件，可以直接用绝对路径，或者使用<strong>相对于配置根路径的相对路径</strong>，可以使用通配符<code>?</code>和<code>*</code>，因为空格意为分隔参数，所以如果路径里包含空格，要用双引号引起来，视作一整个字符串，而不是两个或多个参数</p>
</blockquote>
<p>示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Include <span class="string">&quot;/etc/httpd/customed.conf&quot;</span></span><br><span class="line"><span class="comment">#即包含&quot;/etc/httpd/customed.conf&quot;文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ServerRoot <span class="string">&quot;/etc/httpd&quot;</span></span><br><span class="line">Include <span class="string">&quot;vhost/vhost112.conf&quot;</span></span><br><span class="line"><span class="comment">#即包含&quot;/etc/httpd/vhost/vhost112.conf&quot;文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ServerRoot <span class="string">&quot;/etc/httpd&quot;</span></span><br><span class="line">Include <span class="string">&quot;vhost/*.conf&quot;</span></span><br><span class="line"><span class="comment">#即包含&quot;/etc/httpd/vhost/&quot;目录下所有文件名以.conf结尾的文件</span></span><br></pre></td></tr></table></figure>
<p>关于<strong>Include包含</strong>的简易抽象理解：（和C语言里的include预编译指令是一样的）</p>
<p>为了便于理解，配置内容很简单，可能不严谨，会存在冲突，实际运行可能报错，</p>
<p>假设不会报错，服务器会正常启动，</p>
<p>首先，编辑默认的<strong>Apache主配置文件</strong><code>/etc/httpd/conf/httpd.conf</code>，使其内容如下：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ServerRoot <span class="string">&quot;/etc/httpd&quot;</span></span><br><span class="line">ServerName www.learn.org</span><br><span class="line">DocumentRoot <span class="string">&quot;/var/www/html&quot;</span></span><br><span class="line">Include <span class="string">&quot;vhost/vhost112.conf&quot;</span></span><br><span class="line">abcdefg</span><br></pre></td></tr></table></figure>
<p>然后建立并编辑<code>/etc/httpd/vhost/vhost112.conf</code>：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost 192.168.1.112&gt;</span><br><span class="line">	DocumentRoot <span class="string">&quot;/var/www/112&quot;</span></span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>
<p>那么在启动Apache服务器后，程序的配置内容会是以下这样：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ServerRoot <span class="string">&quot;/etc/httpd&quot;</span></span><br><span class="line">ServerName www.learn.org</span><br><span class="line">DocumentRoot <span class="string">&quot;/var/www/html&quot;</span></span><br><span class="line">&lt;VirtualHost 192.168.1.112&gt;</span><br><span class="line">	DocumentRoot <span class="string">&quot;/var/www/112&quot;</span></span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">abcdefg</span><br></pre></td></tr></table></figure>
<p>也就是说，Include会把定位到的文件内的字符全部插入到Include指令所在的位置，</p>
<p>可以在其它配置文件中使用Include指令，效果同上，</p>
<p>总而言之Apache是从<strong>主配置文件</strong>读起的，可以使用Include指令很便捷的扩展和通过加<code>#</code>注释掉来取消扩展</p>
<h2 id="指令allowoverride"><a class="markdownIt-Anchor" href="#指令allowoverride"></a> 指令：AllowOverride</h2>
<p>语法：<code>AllowOverride &lt;None&gt;|&lt;All&gt;</code></p>
<p>作用于目录容器</p>
<p>这个东西通常不必深究，</p>
<p>主要是了解一下有这东西就行，Allow是允许，Override是重载，或者覆盖</p>
<p>它有默认值，但是版本不一样默认值不一样，还是指定出来保险一点，</p>
<p>主要是要知道：</p>
<ol>
<li>它一般出现在目录容器里面</li>
<li>要给某个目录配置规则，有两种方法：
<ol>
<li>可以在配置文件里面使用目录容器，在容器里使用指令指定规则</li>
<li>可以直接在目录下新建一个文件<code>.htaccess</code>，在这个文件里配置规则</li>
</ol>
</li>
</ol>
<p>若在配置文件的容器里指定了<code>AllowOverride None</code>，也就是<strong>不允许被覆盖</strong>，那么对应的.htaccess便不会生效，甚至可能不会被读取</p>
<p>若在配置文件的容器里指定了<code>AllowOverride All</code>，也就是<strong>允许被覆盖</strong>，那么如果对应的目录里有.htaccess文件，则文件中的配置会出现在Apache的配置中</p>
<p>因为使用.htaccess它有个读取和再处理的过程，会有点<strong>降低服务器性能</strong>，并且我们是可以在配置文件里完成这些配置的，至于.htaccess是为了适应什么环境而使用的，在中学阶段不必深究，所以通常建议指定<code>AllowOverride None</code>，</p>
<h2 id="指令require"><a class="markdownIt-Anchor" href="#指令require"></a> 指令：Require</h2>
<p>作用于目录容器</p>
<p>这个指令也是不需要深究的，记住几个固定形式及其含义就行，</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Require all granted</span><br><span class="line"><span class="comment">#访问无条件允许</span></span><br><span class="line">Require all denied</span><br><span class="line"><span class="comment">#访问无条件拒绝</span></span><br><span class="line">Require user username1 username2 ...</span><br><span class="line"><span class="comment">#仅允许指定的用户访问</span></span><br></pre></td></tr></table></figure>
<h2 id="容器directory"><a class="markdownIt-Anchor" href="#容器directory"></a> 容器：Directory</h2>
<p>语法：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\&lt;Directory &lt;服务器路径&gt; \&gt;</span><br><span class="line">\&lt;/Directory \&gt;</span><br></pre></td></tr></table></figure>
<p>语义：</p>
<p>容器内的指令会作用于指定的服务器路径</p>
<p>示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory <span class="string">&quot;/var/www/html&quot;</span>&gt;</span><br><span class="line">	AllowOverride None</span><br><span class="line">	Options Indexes FollowSymLinks</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"><span class="comment">#容器内出现的三条指令都是作用于&quot;/var/www/html&quot;目录及目录下的文件的</span></span><br><span class="line"><span class="comment">#假设该容器的主机绑定了域名www.learn.org,端口是80,设置主目录为&quot;/var/www/html&quot;</span></span><br><span class="line"><span class="comment">#那么访问&quot;http://www.learn.org/index.html&quot;时,其文件本质是服务器上的&quot;/var/www/html/index.html&quot;</span></span><br><span class="line"><span class="comment">#此时该容器内的指令会起作用</span></span><br></pre></td></tr></table></figure>
<h2 id="容器location"><a class="markdownIt-Anchor" href="#容器location"></a> 容器：Location</h2>
<p>语法：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\&lt;Location &lt;URL中的路径&gt; \&gt;</span><br><span class="line">\&lt;/Location \&gt;</span><br></pre></td></tr></table></figure>
<p>语义：</p>
<p>容器内的指令会作用于指定的URL中的路径</p>
<p>示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Location <span class="string">&quot;/data&quot;</span>&gt;</span><br><span class="line">	ErrorDocument 403 /.noindex.html</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line"><span class="comment">#假设该容器的主机绑定了域名www.learn.org,端口是80,</span></span><br><span class="line"><span class="comment">#那么在访问&quot;http://www.learn.org/data&quot;路径及其子路径比如&quot;http://www.learn.org/data/picture.jpg&quot;时,容器内的指令会起作用</span></span><br></pre></td></tr></table></figure>
<h2 id="容器virtualhost"><a class="markdownIt-Anchor" href="#容器virtualhost"></a> 容器：VirtualHost</h2>
<p>语法：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\&lt;VirtualHost &lt;IP&gt;|&lt;域名&gt;[&lt;:&gt;端口] [&lt;IP&gt;|&lt;域名&gt;[&lt;:&gt;端口]] ...\&gt;</span><br><span class="line">\&lt;/VirtualHost \&gt;</span><br></pre></td></tr></table></figure>
<p>如同<strong>虚拟主机</strong>中提到的：<code>主机最核心的几点配置就是它的：IP、端口、域名、主目录</code></p>
<p>在这个容器的参数里，可以给虚拟主机提供它的IP或者域名，和端口号，并且可以有多条，<strong>至少有一条</strong></p>
<p>例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost 192.168.1.112:80&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line"><span class="comment">#建立了一个可以使用IP192.168.1.112,端口80的虚拟主机</span></span><br><span class="line">&lt;VirtualHost www.learn.org:80&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line"><span class="comment">#建立了一个可以使用域名www.learn.org,端口80的虚拟主机</span></span><br><span class="line">&lt;VirtualHost www.data.org:80&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line"><span class="comment">#建立了一个可以使用域名www.data.org,端口80的虚拟主机</span></span><br></pre></td></tr></table></figure>
<p>注意：Apache中，物理主机直接使用物理网卡的配置，所以不用像虚拟主机一样要在参数里提供IP以供使用，即使用的是基于域名的虚拟主机，域名的本质也算是一个指向某IP的指针，</p>
<p>所以如果虚拟主机要用IP<code>192.168.1.112:80</code>，一定要在虚拟主机容器之前先<code>Listen 192.168.1.112:80</code>，</p>
<p>Listen就像是一个声明：“我会用到的，你先听着”，要先声明才能用，</p>
<p>如果没有Listen，不会报错，但是很显然这会访问不到，</p>
<p>或者在虚拟主机容器里面Listen，语法上是不通的，会报错，并且这就好像先用再声明，就像是“啊管它有没有，反正我要用这个”，这很显然也是不行的</p>
<p>例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Listen 192.168.1.113:80</span><br><span class="line">&lt;VirtualHost 192.168.1.113:80&gt;</span><br><span class="line">    ServerName 192.168.1.113</span><br><span class="line">    DocumentRoot /var/www/113</span><br><span class="line">    &lt;Directory /var/www/113&gt;</span><br><span class="line">        AllowOverride none</span><br><span class="line">        DirectoryIndex index.html</span><br><span class="line">        Require all granted</span><br><span class="line">    &lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>
<p>这是一个正确示例</p>
<h1 id="httpd配置示例及解析"><a class="markdownIt-Anchor" href="#httpd配置示例及解析"></a> httpd配置示例及解析</h1>
<p>以*<code>红字加一对星号</code>*显示的字段在解析下能找到对应条目</p>
<h2 id="服务器环境描述"><a class="markdownIt-Anchor" href="#服务器环境描述"></a> 服务器环境描述</h2>
<p>硬件配置：不赘述，假设够用</p>
<p>软件配置：</p>
<ol>
<li>系统：<strong>CentOS 7</strong></li>
<li>学习阶段，为减少细枝末节的各种问题，<em><code>关闭防火墙</code></em></li>
<li>网卡：
<ol>
<li>网卡名：ens33</li>
<li>使用<strong>手动配置IP</strong></li>
<li>IP：192.168.1.123</li>
<li>NetMask：255.255.255.0</li>
<li>GateWay：192.168.1.1</li>
</ol>
</li>
<li>规划web内容放在<code>/var/www</code>下</li>
<li>规划配置根路径为<code>/etc/httpd</code></li>
</ol>
<h2 id="示例"><a class="markdownIt-Anchor" href="#示例"></a> 示例</h2>
<h3 id="常规web网站"><a class="markdownIt-Anchor" href="#常规web网站"></a> 常规web网站</h3>
<blockquote>
<p>目标：使用本机IP192.168.1.123搭建web站点，使用默认端口，要求可以直接使用<a target="_blank" rel="noopener" href="http://192.168.1.xn--123index-qw7m801ncugiq8i8jaq27jb71a.html">http://192.168.1.123访问到默认文档index.html</a></p>
</blockquote>
<ol>
<li>准备工作：确认IP配置无误</li>
<li>准备工作：建立web内容</li>
</ol>
<p>使用默认的web主目录路径<code>/var/www/html</code></p>
<p>建立index.html文件，并编辑内容，</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> web测试&gt;/var/www/html/index.html</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>
<p>Apache配置文件编辑</p>
<ol>
<li>让Apache能监听到访问请求</li>
</ol>
<p>编辑Apache主配置文件，确认已经注释掉监听所有，然后添加监听**（配置文件里其他的内容不用管它，只要找到要改的内容然后修改就好了）**</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Listen 80</span></span><br><span class="line">Listen 192.168.1.123:80</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>绑定IP和端口</li>
</ol>
<p>编辑Apache主配置文件，找到原有的ServerName指令位置，若没有就添加，有就只修改或者注释掉再添加，</p>
<p>一般会有一行<code>#ServerName www.example.com:80</code>是主配置文件默认的，已经是注释了</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ServerName www.example.com:80</span></span><br><span class="line">ServerName 192.168.1.123:80</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>设置主目录</li>
</ol>
<p>编辑Apache主配置文件，一般会有一行<code>DocumentRoot &quot;/var/www/html&quot;</code>，</p>
<p>如果确认是就完成了，若不是就修改</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DocumentRoot <span class="string">&quot;/var/www/html&quot;</span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li>设置默认文档</li>
</ol>
<p>编辑Apache主配置文件，一般会有一行<code>&lt;Directory &quot;/var/www/html&quot;&gt;</code>，</p>
<p>没有就添加一个容器，然后在里面加上指令</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory <span class="string">&quot;/var/www/html&quot;</span>&gt;</span><br><span class="line">	DirectoryIndex index.html</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>一些常规配置</li>
</ol>
<p>编辑Apache主配置文件，一般会有一行<code>&lt;Directory &quot;/var/www/html&quot;&gt;</code>，</p>
<p>没有就添加一个容器，然后在里面加上一些常用的指令</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory <span class="string">&quot;/var/www/html&quot;</span>&gt;</span><br><span class="line">	AllowOverride None</span><br><span class="line">	Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>配置完成，检查</li>
</ol>
<p>按照如上配置，则编辑完成后，配置文件里至少应该有以下内容：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Listen 192.168.1.123:80</span><br><span class="line">ServerName 192.168.1.123:80</span><br><span class="line">DocumentRoot <span class="string">&quot;/var/www/html&quot;</span></span><br><span class="line">&lt;Directory <span class="string">&quot;/var/www/html&quot;</span>&gt;</span><br><span class="line">	DirectoryIndex index.htm</span><br><span class="line">	AllowOverride None</span><br><span class="line">	Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>检验</p>
</li>
</ol>
<p>打开web浏览器，输入URL<code>http://192.168.1.123</code></p>
<p>若能看到出现<code>web测试</code>即为配置成功</p>
<p><img src="https://s2.loli.net/2022/03/27/ugLqkjGKZB6tnfS.png" alt="image-20220315202806437" /></p>
<h3 id="基于ip地址的虚拟主机配置"><a class="markdownIt-Anchor" href="#基于ip地址的虚拟主机配置"></a> 基于IP地址的虚拟主机配置</h3>
<ol>
<li>准备工作：绑定IP</li>
</ol>
<blockquote>
<p>要配置基于IP的多网站，就需要有多个IP，</p>
<p>在linux下，可以进行*<code>对一个物理网卡绑定多个虚拟IP</code>*</p>
</blockquote>
<p>给网卡再绑定两个IP</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ifconfig ens33:0 192.168.1.112/24</span><br><span class="line">ifconfig ens33:1 192.168.1.113/24</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>准备工作：建立web内容</li>
</ol>
<p>新建两个文件夹，在两个文件夹里分别新建index.html，然后写入不同的内容以区分不同的网站，</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /var/www/112</span><br><span class="line"><span class="built_in">mkdir</span> /var/www/113</span><br><span class="line"></span><br><span class="line"><span class="comment">#关于建立文件可以使用的方法有很多，方法1可以直接复制过去用，方法2展示常规的，看懂了可以直接往后面步骤走，有兴趣且有空可以看看其他方法</span></span><br><span class="line"><span class="comment">#方法1</span></span><br><span class="line"><span class="built_in">echo</span> 112目录的默认文档 &gt;/var/www/112/index.html</span><br><span class="line"><span class="built_in">echo</span> 113目录的默认文档 &gt;/var/www/113/index.html</span><br><span class="line"></span><br><span class="line"><span class="comment">#方法2</span></span><br><span class="line"><span class="built_in">touch</span> /var/www/112/index.html</span><br><span class="line"><span class="built_in">touch</span> /var/www/113/index.html</span><br><span class="line">gedit /var/www/112/index.html</span><br><span class="line"><span class="comment">#打开后写入“112目录的默认文档”</span></span><br><span class="line">gedit /var/www/113/index.html</span><br><span class="line"><span class="comment">#打开后写入“113目录的默认文档”</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#方法3</span></span><br><span class="line">gedit /var/www/112/index.html</span><br><span class="line">gedit /var/www/113/index.html</span><br><span class="line"><span class="comment">#注：可以直接编辑，如果是不存在的文件，保存即自动创建，除非没有权限</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#方法4</span></span><br><span class="line">vim /var/www/112/index.html</span><br><span class="line">vim /var/www/113/index.html</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>
<p>Apache配置文件编辑</p>
<ol>
<li>检查基础配置</li>
</ol>
<p>在主配置文件找到以下指令，并检查是否无误，有误差的要修改</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Listen 80</span></span><br><span class="line">ServerRoot <span class="string">&quot;/etc/httpd&quot;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>让Apache能监听到访问请求</li>
</ol>
<p>编辑Apache主配置文件，确认已经注释掉监听所有，然后添加监听</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Listen 80</span></span><br><span class="line">Listen 192.168.1.112:80</span><br><span class="line">Listen 192.168.1.113:80</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>建立虚拟主机</li>
</ol>
<p>可以直接在Apache主配置文件里添加虚拟主机容器，但是为了便于管理，避免主配置文件过于臃肿导致不便维护，先在主配置文件里使用Include指令进行扩展，然后使用独立文件进行虚拟主机的配置</p>
<p>在主配置文件末尾添加：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Include <span class="string">&quot;vhost/*.conf&quot;</span></span><br></pre></td></tr></table></figure>
<p>编辑完后主配置文件里至少应该有以下内容：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ServerRoot <span class="string">&quot;/etc/httpd&quot;</span></span><br><span class="line"><span class="comment">#Listen 80</span></span><br><span class="line">Listen 192.168.1.112:80</span><br><span class="line">Listen 192.168.1.113:80</span><br><span class="line">Include <span class="string">&quot;vhost/*.conf&quot;</span></span><br></pre></td></tr></table></figure>
<p>新建/etc/httpd/vhost目录，在目录下新建文件112.conf和113.conf，分别编辑</p>
<p>112.conf：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost 192.168.1.112:80&gt;</span><br><span class="line">    ServerName 192.168.1.112</span><br><span class="line"> DocumentRoot /var/www/112</span><br><span class="line">    &lt;Directory /var/www/112&gt;</span><br><span class="line">        AllowOverride none</span><br><span class="line">        DirectoryIndex index.html</span><br><span class="line">        Require all granted</span><br><span class="line">    &lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>
<p>113.conf：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost 192.168.1.113:80&gt;</span><br><span class="line">    ServerName 192.168.1.113</span><br><span class="line"> DocumentRoot /var/www/113</span><br><span class="line">    &lt;Directory /var/www/113&gt;</span><br><span class="line">        AllowOverride none</span><br><span class="line">        DirectoryIndex index.html</span><br><span class="line">        Require all granted</span><br><span class="line">    &lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>配置完成，重启Apache，更新配置文件</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#方法一</span></span><br><span class="line">systemctl restart httpd</span><br><span class="line"><span class="comment">#在CentOS7.x及更高版本中,使用systemctl全线代替了以往旧版里老式的管理工具,如service,chkconfig等</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#方法二</span></span><br><span class="line">service httpd restart</span><br><span class="line"><span class="comment">#虽然已经有了更系统化,更高效的方法,但对于老式的方法依然实现了向下兼容,仍然可以使用</span></span><br></pre></td></tr></table></figure>
<p>使用命令后，如果没有消息出现就是成功了，</p>
<p>linux的哲学即<strong>没有消息就是好消息</strong></p>
</li>
<li>
<p>检验</p>
</li>
</ol>
<p>啊，，检验就像上一个一样，打开网站看看对不对就行了</p>
<h3 id="基于端口的虚拟主机配置"><a class="markdownIt-Anchor" href="#基于端口的虚拟主机配置"></a> 基于端口的虚拟主机配置</h3>
<p>因为前一个例子已经讲的差不多了，后面的大同小异，大部分内容就略了，多参考上一个例子，</p>
<p>关于指令和容器有不懂的就回去看Apache配置文件解析</p>
<ol>
<li>建立web内容</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#直接放命令了,可以直接复制粘贴用,其他方法见上一例子</span><br><span class="line">mkdir /var/www/port8000</span><br><span class="line">mkdir /var/www/port9000</span><br><span class="line">echo 8000端口目录的默认文档 &gt;/var/www/port8000/index.html</span><br><span class="line">echo 9000端口目录的默认文档 &gt;/var/www/port9000/index.html</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>
<p>Apache配置文件编辑</p>
<ol>
<li>确认主配置文件内容，有误差就改：</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ServerRoot <span class="string">&quot;/etc/httpd&quot;</span></span><br><span class="line"><span class="comment">#Listen 80</span></span><br><span class="line">Listen 192.168.1.123:8000</span><br><span class="line">Listen 192.168.1.123:9000</span><br><span class="line">Include <span class="string">&quot;vhost/*.conf&quot;</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>建立虚拟主机</li>
</ol>
<p>怎么建文件和怎么编辑就略了，详见上一例子，换汤不换药，</p>
<p>主要是注意要指定端口，</p>
<p>假设用8000.conf和9000.conf</p>
<p>/etc/httpd/vhost/8000.conf：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost 192.168.1.123:8000&gt;</span><br><span class="line">    ServerName 192.168.1.123:8000</span><br><span class="line">    DocumentRoot /var/www/port8000</span><br><span class="line">    &lt;Directory /var/www/port8000&gt;</span><br><span class="line">        AllowOverride none</span><br><span class="line">        DirectoryIndex index.html</span><br><span class="line">        Require all granted</span><br><span class="line">    &lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>
<p>/etc/httpd/vhost/9000.conf：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost 192.168.1.123:9000&gt;</span><br><span class="line">    ServerName 192.168.1.123:9000</span><br><span class="line">    DocumentRoot /var/www/port9000</span><br><span class="line">    &lt;Directory /var/www/port9000&gt;</span><br><span class="line">        AllowOverride none</span><br><span class="line">        DirectoryIndex index.html</span><br><span class="line">        Require all granted</span><br><span class="line">    &lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>重启Apache</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart httpd</span><br><span class="line"><span class="comment">#或者</span></span><br><span class="line">service httpd restart</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>站点配置，也就像这个例子里省略的这样，只是几条简单的命令，几十个或者几百个字符，</p>
<p>在熟练之后……嗯</p>
<h3 id="基于域名的虚拟主机配置"><a class="markdownIt-Anchor" href="#基于域名的虚拟主机配置"></a> 基于域名的虚拟主机配置</h3>
<ol>
<li>准备工作：绑定域名</li>
</ol>
<p>方便起见，直接编辑*<code>hosts文件</code>*</p>
<p>编辑/etc/hosts，在末尾添加：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">192.168.1.123	www.web1.com</span><br><span class="line">192.168.1.123	www.web2.com</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>建立web内容</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /var/www/web1</span><br><span class="line"><span class="built_in">mkdir</span> /var/www/web2</span><br><span class="line"><span class="built_in">echo</span> web1的默认文档 &gt;/var/www/web1/index.html</span><br><span class="line"><span class="built_in">echo</span> web2的默认文档 &gt;/var/www/web2/index.html</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>编辑Apache配置文件</li>
</ol>
<p>/etc/httpd/conf/httpd.conf</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ServerRoot <span class="string">&quot;/etc/httpd&quot;</span></span><br><span class="line"><span class="comment">#Listen 80</span></span><br><span class="line">Listen 192.168.1.123:80</span><br><span class="line">Include <span class="string">&quot;vhost/*.conf&quot;</span></span><br></pre></td></tr></table></figure>
<p>/etc/httpd/vhost/web1.conf</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost www.web1.com&gt;</span><br><span class="line">    ServerName www.web1.com</span><br><span class="line">    DocumentRoot /var/www/web1</span><br><span class="line">    &lt;Directory /var/www/web1&gt;</span><br><span class="line">        AllowOverride none</span><br><span class="line">        DirectoryIndex index.html</span><br><span class="line">        Require all granted</span><br><span class="line">    &lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>
<p>/etc/httpd/vhost/web2.conf</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost www.web2.com&gt;</span><br><span class="line">    ServerName www.web2.com</span><br><span class="line">    DocumentRoot /var/www/web2</span><br><span class="line">    &lt;Directory /var/www/web2&gt;</span><br><span class="line">        AllowOverride none</span><br><span class="line">        DirectoryIndex index.html</span><br><span class="line">        Require all granted</span><br><span class="line">    &lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>重启Apache，然后打开浏览器访问网站测试一下</li>
</ol>
<h3 id="apache的用户授权控制"><a class="markdownIt-Anchor" href="#apache的用户授权控制"></a> Apache的用户授权控制</h3>
<p>这一部分主要是展示怎么使用Apache的用户授权控制，就不赘述建立web站点了，关于建立web站点参见<a href="#%E5%9F%BA%E4%BA%8EIP%E5%9C%B0%E5%9D%80%E7%9A%84%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE">基于IP地址的虚拟主机配置</a>，</p>
<blockquote>
<p>目标：对192.168.1.112虚拟主机启用用户授权控制，要求可以使用用户名student和web登陆，密码都设置为123</p>
</blockquote>
<p>编辑/etc/httpd/vhost/112.conf，下面会出现几个新的命令，因为这些命令形式很单一，也几乎不会牵扯到别的，只有在要用到用户授权控制时用到，就不单独在配置文件解析里面列出来了，后文直接附上</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost 192.168.1.112:80&gt;</span><br><span class="line">    ServerName 192.168.1.112</span><br><span class="line">    DocumentRoot /var/www/112</span><br><span class="line">    &lt;Directory /var/www/112&gt;</span><br><span class="line">        AuthName <span class="string">&quot;这一行会在认证窗口出现&quot;</span></span><br><span class="line">        AuthType Basic</span><br><span class="line">        AuthUserFile /etc/httpd/passwd</span><br><span class="line">        <span class="comment">#设置认证文件的路径为/etc/httpd/passwd</span></span><br><span class="line">        Require user student web</span><br><span class="line">        <span class="comment">#要求使用用户student或者web登陆</span></span><br><span class="line">        AllowOverride none</span><br><span class="line">        DirectoryIndex index.html</span><br><span class="line">        <span class="comment">#Require all granted</span></span><br><span class="line">        <span class="comment">#请求全部准许的话,要求登陆就被无效了</span></span><br><span class="line">    &lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>
<p>Auth应该是Authority的截短缩写，其他单词就字面意思了</p>
<p><code>AuthName &lt;一串提示&gt;</code>这个指令将会让指定的一串提示出现在认证弹窗内（事实上好像只有IE浏览器支持这个，其他浏览器也许会有弹窗，但不会出现里面的字，就当走个流程）</p>
<p><code>AuthType Basic</code>中学阶段应该只会用到这一种，指定认证类型为基本认证</p>
<p><code>AuthUserFile &lt;由htpasswd建立的密码文件的路径&gt;</code>指定密码文件的路径，这个密码文件是由*<code>htpasswd命令</code>*生成的，</p>
<p>以上就是全部内容，只要加上新出现的四条指令，记得把<code>Require all granted</code>给注释掉，然后重启Apache，用户授权控制就开始工作了，可以试着访问<code>http://192.168.1.112/</code>试试，也可以直接看看直接使用带用户名和密码的URL<code>http://student:123@192.168.1.112/</code>，</p>
<p>因为通常浏览器会记录登陆信息，所以可能在登陆过一次之后就不再要求认证了，所以要记得删除记录再重新测试</p>
<p>或者先用带用户名和密码的URL，再直接只用IP访问</p>
<h2 id="解析"><a class="markdownIt-Anchor" href="#解析"></a> 解析</h2>
<h3 id="关闭防火墙"><a class="markdownIt-Anchor" href="#关闭防火墙"></a> 关闭防火墙</h3>
<p>先编辑linux防火墙的配置文件<code>/etc/selinux/config</code></p>
<p><img src="https://s2.loli.net/2022/03/27/GbiKpLY2SXck4Qe.png" alt="image-20220315220600371" /></p>
<p>编辑的方法很多,gedit,vim,…就不赘述了</p>
<p>总之把第7行那里的<code>SELINUX=enforcing</code>改成<code>SELINUX=disabled</code>就行了，保存编辑，</p>
<p>然后使用命令禁止防火墙开机自启</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">disable</span> firewalld</span><br></pre></td></tr></table></figure>
<p>再重启一次操作系统，然后防火墙就已经是关闭了</p>
<h3 id="对一个物理网卡绑定多个虚拟ip"><a class="markdownIt-Anchor" href="#对一个物理网卡绑定多个虚拟ip"></a> 对一个物理网卡绑定多个虚拟IP</h3>
<p>使用的命令是<code>ifconfig</code></p>
<p>语法为：<code>ifconfig &lt;网卡名&gt;:&lt;编号x&gt; &lt;要绑定的虚拟IP&gt;/&lt;子网前缀长度n&gt;</code></p>
<p>注：</p>
<ol>
<li><strong>编号x从0开始</strong>，0,1,2,3,4依此类推</li>
<li><strong>子网前缀长度n</strong>是指就是指IP中<strong>网络号的位数</strong>，即<strong>子网掩码里二进制位为1的个数</strong>，比如子网掩码255.255.255.128的子网前缀长度是25</li>
</ol>
<p>使用示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ifconfig ens33:0 192.168.1.112/24</span><br><span class="line"><span class="comment">#给ens33网卡绑定了IP 192.168.1.112,子网掩码为255.255.255.0,占用编号0</span></span><br><span class="line">ifconfig ens33:1 192.168.1.113/24</span><br><span class="line"><span class="comment">#给ens33网卡绑定了IP 192.168.1.113,子网掩码为255.255.255.0,占用编号1</span></span><br></pre></td></tr></table></figure>
<h3 id="hosts文件"><a class="markdownIt-Anchor" href="#hosts文件"></a> hosts文件</h3>
<p>DNS解析的过程里，有一个很重要的一环，</p>
<p>主机先检查hosts文件，如果找不到解析再找本地缓存，再找不到才会向DNS发起查询，</p>
<p>hosts文件的优先级是很高的，</p>
<p>一般在Windows下的路径是<code>C:\Windows\System32\drivers\etc\hosts</code></p>
<p>在linux下的路径是<code>/etc/hosts</code></p>
<p>它们的语法都是一样的：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;IPv4&gt;|&lt;IPv6&gt; &lt;域名&gt;</span><br><span class="line"><span class="comment">#一条一行</span></span><br></pre></td></tr></table></figure>
<p>例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">192.168.1.123 www.web1.com</span><br><span class="line">192.168.1.123 www.web2.com</span><br></pre></td></tr></table></figure>
<p>即建立了两条域名解析记录，分别是：</p>
<p><a target="_blank" rel="noopener" href="http://www.web1.com">www.web1.com</a> ==&gt; 192.168.1.123</p>
<p><a target="_blank" rel="noopener" href="http://www.web2.com">www.web2.com</a> ==&gt; 192.168.1.123</p>
<h3 id="htpasswd命令"><a class="markdownIt-Anchor" href="#htpasswd命令"></a> htpasswd命令</h3>
<p>安装Apache后会自带的一个命令</p>
<p>语法：<code>htpasswd [-c] &lt;加密文件路径&gt; &lt;用户名&gt;</code></p>
<p>选项<code>-c</code>是指<code>Creat</code>，在还没有加密文件时，也就是第一次创建时，带上这个选项自动创建加密文件，名字是自定义的，不过一般都会用passwd或者password，便于理解和记忆</p>
<p>例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">htpasswd -c /etc/httpd/password student</span><br><span class="line"><span class="comment">#输入命令后输入两次密码,录入成功</span></span><br><span class="line"><span class="comment">#第一次使用,还没有文件,要带上选项-c</span></span><br><span class="line">htpasswd /etc/httpd/passwd web</span><br><span class="line"><span class="comment">#已经有文件了,只要指定位置就行了</span></span><br></pre></td></tr></table></figure>
<h1 id="展示一个默认yum安装后的apache主配置文件"><a class="markdownIt-Anchor" href="#展示一个默认yum安装后的apache主配置文件"></a> 展示一个默认yum安装后的Apache主配置文件</h1>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This is the main Apache HTTP server configuration file.  It contains the</span></span><br><span class="line"><span class="comment"># configuration directives that give the server its instructions.</span></span><br><span class="line"><span class="comment"># See &lt;URL:http://httpd.apache.org/docs/2.4/&gt; for detailed information.</span></span><br><span class="line"><span class="comment"># In particular, see </span></span><br><span class="line"><span class="comment"># &lt;URL:http://httpd.apache.org/docs/2.4/mod/directives.html&gt;</span></span><br><span class="line"><span class="comment"># for a discussion of each configuration directive.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Do NOT simply read the instructions in here without understanding</span></span><br><span class="line"><span class="comment"># what they do.  They&#x27;re here only as hints or reminders.  If you are unsure</span></span><br><span class="line"><span class="comment"># consult the online docs. You have been warned.  </span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Configuration and logfile names: If the filenames you specify for many</span></span><br><span class="line"><span class="comment"># of the server&#x27;s control files begin with &quot;/&quot; (or &quot;drive:/&quot; for Win32), the</span></span><br><span class="line"><span class="comment"># server will use that explicit path.  If the filenames do *not* begin</span></span><br><span class="line"><span class="comment"># with &quot;/&quot;, the value of ServerRoot is prepended -- so &#x27;log/access_log&#x27;</span></span><br><span class="line"><span class="comment"># with ServerRoot set to &#x27;/www&#x27; will be interpreted by the</span></span><br><span class="line"><span class="comment"># server as &#x27;/www/log/access_log&#x27;, where as &#x27;/log/access_log&#x27; will be</span></span><br><span class="line"><span class="comment"># interpreted as &#x27;/log/access_log&#x27;.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># ServerRoot: The top of the directory tree under which the server&#x27;s</span></span><br><span class="line"><span class="comment"># configuration, error, and log files are kept.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Do not add a slash at the end of the directory path.  If you point</span></span><br><span class="line"><span class="comment"># ServerRoot at a non-local disk, be sure to specify a local disk on the</span></span><br><span class="line"><span class="comment"># Mutex directive, if file-based mutexes are used.  If you wish to share the</span></span><br><span class="line"><span class="comment"># same ServerRoot for multiple httpd daemons, you will need to change at</span></span><br><span class="line"><span class="comment"># least PidFile.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">ServerRoot <span class="string">&quot;/etc/httpd&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Listen: Allows you to bind Apache to specific IP addresses and/or</span></span><br><span class="line"><span class="comment"># ports, instead of the default. See also the &lt;VirtualHost&gt;</span></span><br><span class="line"><span class="comment"># directive.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Change this to Listen on specific IP addresses as shown below to </span></span><br><span class="line"><span class="comment"># prevent Apache from glomming onto all bound IP addresses.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#Listen 12.34.56.78:80</span></span><br><span class="line">Listen 80</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Dynamic Shared Object (DSO) Support</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># To be able to use the functionality of a module which was built as a DSO you</span></span><br><span class="line"><span class="comment"># have to place corresponding `LoadModule&#x27; lines at this location so the</span></span><br><span class="line"><span class="comment"># directives contained in it are actually available _before_ they are used.</span></span><br><span class="line"><span class="comment"># Statically compiled modules (those listed by `httpd -l&#x27;) do not need</span></span><br><span class="line"><span class="comment"># to be loaded here.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Example:</span></span><br><span class="line"><span class="comment"># LoadModule foo_module modules/mod_foo.so</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">Include conf.modules.d/*.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If you wish httpd to run as a different user or group, you must run</span></span><br><span class="line"><span class="comment"># httpd as root initially and it will switch.  </span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># User/Group: The name (or #number) of the user/group to run httpd as.</span></span><br><span class="line"><span class="comment"># It is usually good practice to create a dedicated user and group for</span></span><br><span class="line"><span class="comment"># running httpd, as with most system services.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">User apache</span><br><span class="line">Group apache</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x27;Main&#x27; server configuration</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The directives in this section set up the values used by the &#x27;main&#x27;</span></span><br><span class="line"><span class="comment"># server, which responds to any requests that aren&#x27;t handled by a</span></span><br><span class="line"><span class="comment"># &lt;VirtualHost&gt; definition.  These values also provide defaults for</span></span><br><span class="line"><span class="comment"># any &lt;VirtualHost&gt; containers you may define later in the file.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># All of these directives may appear inside &lt;VirtualHost&gt; containers,</span></span><br><span class="line"><span class="comment"># in which case these default settings will be overridden for the</span></span><br><span class="line"><span class="comment"># virtual host being defined.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># ServerAdmin: Your address, where problems with the server should be</span></span><br><span class="line"><span class="comment"># e-mailed.  This address appears on some server-generated pages, such</span></span><br><span class="line"><span class="comment"># as error documents.  e.g. admin@your-domain.com</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">ServerAdmin root@localhost</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># ServerName gives the name and port that the server uses to identify itself.</span></span><br><span class="line"><span class="comment"># This can often be determined automatically, but we recommend you specify</span></span><br><span class="line"><span class="comment"># it explicitly to prevent problems during startup.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If your host doesn&#x27;t have a registered DNS name, enter its IP address here.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#ServerName www.example.com:80</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Deny access to the entirety of your server&#x27;s filesystem. You must</span></span><br><span class="line"><span class="comment"># explicitly permit access to web content directories in other </span></span><br><span class="line"><span class="comment"># &lt;Directory&gt; blocks below.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">&lt;Directory /&gt;</span><br><span class="line">    AllowOverride none</span><br><span class="line">    Require all denied</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note that from this point forward you must specifically allow</span></span><br><span class="line"><span class="comment"># particular features to be enabled - so if something&#x27;s not working as</span></span><br><span class="line"><span class="comment"># you might expect, make sure that you have specifically enabled it</span></span><br><span class="line"><span class="comment"># below.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># DocumentRoot: The directory out of which you will serve your</span></span><br><span class="line"><span class="comment"># documents. By default, all requests are taken from this directory, but</span></span><br><span class="line"><span class="comment"># symbolic links and aliases may be used to point to other locations.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">DocumentRoot <span class="string">&quot;/var/www/html&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Relax access to content within /var/www.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">&lt;Directory <span class="string">&quot;/var/www&quot;</span>&gt;</span><br><span class="line">    AllowOverride None</span><br><span class="line">    <span class="comment"># Allow open access:</span></span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Further relax access to the default document root:</span></span><br><span class="line">&lt;Directory <span class="string">&quot;/var/www/html&quot;</span>&gt;</span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># Possible values for the Options directive are &quot;None&quot;, &quot;All&quot;,</span></span><br><span class="line">    <span class="comment"># or any combination of:</span></span><br><span class="line">    <span class="comment">#   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># Note that &quot;MultiViews&quot; must be named *explicitly* --- &quot;Options All&quot;</span></span><br><span class="line">    <span class="comment"># doesn&#x27;t give it to you.</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># The Options directive is both complicated and important.  Please see</span></span><br><span class="line">    <span class="comment"># http://httpd.apache.org/docs/2.4/mod/core.html#options</span></span><br><span class="line">    <span class="comment"># for more information.</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    Options Indexes FollowSymLinks</span><br><span class="line"></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># AllowOverride controls what directives may be placed in .htaccess files.</span></span><br><span class="line">    <span class="comment"># It can be &quot;All&quot;, &quot;None&quot;, or any combination of the keywords:</span></span><br><span class="line">    <span class="comment">#   Options FileInfo AuthConfig Limit</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    AllowOverride None</span><br><span class="line"></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># Controls who can get stuff from this server.</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># DirectoryIndex: sets the file that Apache will serve if a directory</span></span><br><span class="line"><span class="comment"># is requested.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">&lt;IfModule dir_module&gt;</span><br><span class="line">    DirectoryIndex index.html</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The following lines prevent .htaccess and .htpasswd files from being </span></span><br><span class="line"><span class="comment"># viewed by Web clients. </span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">&lt;Files <span class="string">&quot;.ht*&quot;</span>&gt;</span><br><span class="line">    Require all denied</span><br><span class="line">&lt;/Files&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># ErrorLog: The location of the error log file.</span></span><br><span class="line"><span class="comment"># If you do not specify an ErrorLog directive within a &lt;VirtualHost&gt;</span></span><br><span class="line"><span class="comment"># container, error messages relating to that virtual host will be</span></span><br><span class="line"><span class="comment"># logged here.  If you *do* define an error logfile for a &lt;VirtualHost&gt;</span></span><br><span class="line"><span class="comment"># container, that host&#x27;s errors will be logged there and not here.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">ErrorLog <span class="string">&quot;logs/error_log&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># LogLevel: Control the number of messages logged to the error_log.</span></span><br><span class="line"><span class="comment"># Possible values include: debug, info, notice, warn, error, crit,</span></span><br><span class="line"><span class="comment"># alert, emerg.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">LogLevel warn</span><br><span class="line"></span><br><span class="line">&lt;IfModule log_config_module&gt;</span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># The following directives define some format nicknames for use with</span></span><br><span class="line">    <span class="comment"># a CustomLog directive (see below).</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    LogFormat <span class="string">&quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b \&quot;%&#123;Referer&#125;i\&quot; \&quot;%&#123;User-Agent&#125;i\&quot;&quot;</span> combined</span><br><span class="line">    LogFormat <span class="string">&quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b&quot;</span> common</span><br><span class="line"></span><br><span class="line">    &lt;IfModule logio_module&gt;</span><br><span class="line">      <span class="comment"># You need to enable mod_logio.c to use %I and %O</span></span><br><span class="line">      LogFormat <span class="string">&quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b \&quot;%&#123;Referer&#125;i\&quot; \&quot;%&#123;User-Agent&#125;i\&quot; %I %O&quot;</span> combinedio</span><br><span class="line">    &lt;/IfModule&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># The location and format of the access logfile (Common Logfile Format).</span></span><br><span class="line">    <span class="comment"># If you do not define any access logfiles within a &lt;VirtualHost&gt;</span></span><br><span class="line">    <span class="comment"># container, they will be logged here.  Contrariwise, if you *do*</span></span><br><span class="line">    <span class="comment"># define per-&lt;VirtualHost&gt; access logfiles, transactions will be</span></span><br><span class="line">    <span class="comment"># logged therein and *not* in this file.</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#CustomLog &quot;logs/access_log&quot; common</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># If you prefer a logfile with access, agent, and referer information</span></span><br><span class="line">    <span class="comment"># (Combined Logfile Format) you can use the following directive.</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    CustomLog <span class="string">&quot;logs/access_log&quot;</span> combined</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line"></span><br><span class="line">&lt;IfModule alias_module&gt;</span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># Redirect: Allows you to tell clients about documents that used to </span></span><br><span class="line">    <span class="comment"># exist in your server&#x27;s namespace, but do not anymore. The client </span></span><br><span class="line">    <span class="comment"># will make a new request for the document at its new location.</span></span><br><span class="line">    <span class="comment"># Example:</span></span><br><span class="line">    <span class="comment"># Redirect permanent /foo http://www.example.com/bar</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># Alias: Maps web paths into filesystem paths and is used to</span></span><br><span class="line">    <span class="comment"># access content that does not live under the DocumentRoot.</span></span><br><span class="line">    <span class="comment"># Example:</span></span><br><span class="line">    <span class="comment"># Alias /webpath /full/filesystem/path</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># If you include a trailing / on /webpath then the server will</span></span><br><span class="line">    <span class="comment"># require it to be present in the URL.  You will also likely</span></span><br><span class="line">    <span class="comment"># need to provide a &lt;Directory&gt; section to allow access to</span></span><br><span class="line">    <span class="comment"># the filesystem path.</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># ScriptAlias: This controls which directories contain server scripts. </span></span><br><span class="line">    <span class="comment"># ScriptAliases are essentially the same as Aliases, except that</span></span><br><span class="line">    <span class="comment"># documents in the target directory are treated as applications and</span></span><br><span class="line">    <span class="comment"># run by the server when requested rather than as documents sent to the</span></span><br><span class="line">    <span class="comment"># client.  The same rules about trailing &quot;/&quot; apply to ScriptAlias</span></span><br><span class="line">    <span class="comment"># directives as to Alias.</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    ScriptAlias /cgi-bin/ <span class="string">&quot;/var/www/cgi-bin/&quot;</span></span><br><span class="line"></span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># &quot;/var/www/cgi-bin&quot; should be changed to whatever your ScriptAliased</span></span><br><span class="line"><span class="comment"># CGI directory exists, if you have that configured.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">&lt;Directory <span class="string">&quot;/var/www/cgi-bin&quot;</span>&gt;</span><br><span class="line">    AllowOverride None</span><br><span class="line">    Options None</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line">&lt;IfModule mime_module&gt;</span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># TypesConfig points to the file containing the list of mappings from</span></span><br><span class="line">    <span class="comment"># filename extension to MIME-type.</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    TypesConfig /etc/mime.types</span><br><span class="line"></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># AddType allows you to add to or override the MIME configuration</span></span><br><span class="line">    <span class="comment"># file specified in TypesConfig for specific file types.</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#AddType application/x-gzip .tgz</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># AddEncoding allows you to have certain browsers uncompress</span></span><br><span class="line">    <span class="comment"># information on the fly. Note: Not all browsers support this.</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#AddEncoding x-compress .Z</span></span><br><span class="line">    <span class="comment">#AddEncoding x-gzip .gz .tgz</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># If the AddEncoding directives above are commented-out, then you</span></span><br><span class="line">    <span class="comment"># probably should define those extensions to indicate media types:</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    AddType application/x-compress .Z</span><br><span class="line">    AddType application/x-gzip .gz .tgz</span><br><span class="line"></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># AddHandler allows you to map certain file extensions to &quot;handlers&quot;:</span></span><br><span class="line">    <span class="comment"># actions unrelated to filetype. These can be either built into the server</span></span><br><span class="line">    <span class="comment"># or added with the Action directive (see below)</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># To use CGI scripts outside of ScriptAliased directories:</span></span><br><span class="line">    <span class="comment"># (You will also need to add &quot;ExecCGI&quot; to the &quot;Options&quot; directive.)</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#AddHandler cgi-script .cgi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># For type maps (negotiated resources):</span></span><br><span class="line">    <span class="comment">#AddHandler type-map var</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># Filters allow you to process content before it is sent to the client.</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># To parse .shtml files for server-side includes (SSI):</span></span><br><span class="line">    <span class="comment"># (You will also need to add &quot;Includes&quot; to the &quot;Options&quot; directive.)</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    AddType text/html .shtml</span><br><span class="line">    AddOutputFilter INCLUDES .shtml</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Specify a default charset for all content served; this enables</span></span><br><span class="line"><span class="comment"># interpretation of all content as UTF-8 by default.  To use the </span></span><br><span class="line"><span class="comment"># default browser choice (ISO-8859-1), or to allow the META tags</span></span><br><span class="line"><span class="comment"># in HTML content to override this choice, comment out this</span></span><br><span class="line"><span class="comment"># directive:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">AddDefaultCharset UTF-8</span><br><span class="line"></span><br><span class="line">&lt;IfModule mime_magic_module&gt;</span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># The mod_mime_magic module allows the server to use various hints from the</span></span><br><span class="line">    <span class="comment"># contents of the file itself to determine its type.  The MIMEMagicFile</span></span><br><span class="line">    <span class="comment"># directive tells the module where the hint definitions are located.</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    MIMEMagicFile conf/magic</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Customizable error responses come in three flavors:</span></span><br><span class="line"><span class="comment"># 1) plain text 2) local redirects 3) external redirects</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Some examples:</span></span><br><span class="line"><span class="comment">#ErrorDocument 500 &quot;The server made a boo boo.&quot;</span></span><br><span class="line"><span class="comment">#ErrorDocument 404 /missing.html</span></span><br><span class="line"><span class="comment">#ErrorDocument 404 &quot;/cgi-bin/missing_handler.pl&quot;</span></span><br><span class="line"><span class="comment">#ErrorDocument 402 http://www.example.com/subscription_info.html</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># EnableMMAP and EnableSendfile: On systems that support it, </span></span><br><span class="line"><span class="comment"># memory-mapping or the sendfile syscall may be used to deliver</span></span><br><span class="line"><span class="comment"># files.  This usually improves server performance, but must</span></span><br><span class="line"><span class="comment"># be turned off when serving from networked-mounted </span></span><br><span class="line"><span class="comment"># filesystems or if support for these functions is otherwise</span></span><br><span class="line"><span class="comment"># broken on your system.</span></span><br><span class="line"><span class="comment"># Defaults if commented: EnableMMAP On, EnableSendfile Off</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#EnableMMAP off</span></span><br><span class="line">EnableSendfile on</span><br><span class="line"></span><br><span class="line"><span class="comment"># Supplemental configuration</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Load config files in the &quot;/etc/httpd/conf.d&quot; directory, if any.</span></span><br><span class="line">IncludeOptional conf.d/*.conf</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div><div class="article-licensing box"><div class="licensing-title"><p>apache</p><p><a href="https://sayurinana.ink/2022-03-16/apache/">https://sayurinana.ink/2022-03-16/apache/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><a href="https://sayurinana.ink"><p>樱缘柒柒</p></a></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2022-03-16</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2024-02-26</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="recommend-area"><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 相关文章</span><br><span>  1.<a class="is-size-6" href="/2024-03-02/VMware%E4%BD%BF%E7%94%A8%E7%89%A9%E7%90%86%E7%A1%AC%E7%9B%98/" target="_blank">VMware使用物理硬盘</a><br></span><span>  2.<a class="is-size-6" href="/2024-03-02/%E5%88%9B%E5%BB%BAssh%E7%A7%98%E9%92%A5%E5%92%8C%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%8A%A8%E7%99%BB%E5%BD%95/" target="_blank">创建ssh秘钥和设置自动登录</a><br></span><span>  3.<a class="is-size-6" href="/2024-03-02/docker%E9%95%9C%E5%83%8F%E7%9A%84%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D/" target="_blank">docker镜像的备份恢复</a><br></span><span>  4.<a class="is-size-6" href="/2022-03-23/hexo%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" target="_blank">hexo学习记录</a><br></span><span>  5.<a class="is-size-6" href="/2021-07-30/%E5%AE%89%E8%A3%85apache%E5%92%8Cphp/" target="_blank">安装apache和php</a><br></span><span>  6.<a class="is-size-6" href="/2021-07-28/%E5%AE%89%E8%A3%85gcc/" target="_blank">安装gcc</a><br></span><span>  7.<a class="is-size-6" href="/2021-06-29/pure-ftp/" target="_blank">pure ftp</a><br></span><span>  8.<a class="is-size-6" href="/2021-06-29/%E5%AE%89%E8%A3%85dns/" target="_blank">dns</a><br></span></div><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 推荐文章</span><br><span>  1.<a class="is-size-6" href="/2020-03-13/MarkDown/" target="_blank">MarkDown</a><br></span><span>  2.<a class="is-size-6" href="/2020-12-15/%E4%B8%80%E4%BA%9Bwindows%E6%9C%8D%E5%8A%A1%E5%90%8D%E5%8F%8A%E7%AE%80%E4%BB%8B/" target="_blank">一些windows服务名及简介</a><br></span><span>  3.<a class="is-size-6" href="/2020-12-16/%E6%89%A9%E5%AE%B9%E6%A0%B9%E5%88%86%E5%8C%BA/" target="_blank">扩容根分区</a><br></span><span>  4.<a class="is-size-6" href="/2021-01-18/LaTeX%E6%95%B0%E5%AD%A6%E7%AC%A6%E5%8F%B7/" target="_blank">LaTeX数学符号</a><br></span><span>  5.<a class="is-size-6" href="/2021-03-24/%E8%AF%AD%E6%96%87%E6%9F%A5%E6%BC%8F/" target="_blank">语文查漏</a><br></span><span>  6.<a class="is-size-6" href="/2021-06-23/%E5%AE%89%E8%A3%85mysql/" target="_blank">mysql</a><br></span></div></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=623ae5c74a222e001a07b7a9&product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="https://s2.loli.net/2022/03/22/LZPxy3iqjMpDg2C.jpg" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="https://s2.loli.net/2022/03/22/kozxNjcvnliR3XP.jpg" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2022-03-20/2022%E5%B9%B43%E6%9C%8820%E6%97%A5/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">2022年3月20日</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2022-03-15/%E8%AF%AD%E6%B3%95%E6%8F%8F%E8%BF%B0%E6%A0%BC%E5%BC%8F/"><span class="level-item">语法描述格式(自用)</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--><div class="card"><div class="card-content"><div class="title is-5">评论</div><div id="comment-container"></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/gitalk/1.6.0/gitalk.css"><script> $.getScript('/js/gitalk.min.js', function () { 
            var gitalk = new Gitalk({
            language:'zh-CN',
            id: '933e2a3bc22ff185d56b4fe3a71ab0d9',
            repo: 'Gitalk_for_sayurinana_ink',
            owner: 'sayurinana',
            clientID: '3da56ebfa6536d0515b0',
            clientSecret: '638cd5e6cd30ea36c385f04da1ae0585a7d08503',
            admin: ["sayurinana"],
            createIssueManually: true,
            distractionFreeMode: false,
            perPage: 10,
            pagerDirection: 'last',
            proxy: 'https://vercel.prohibitorum.top/github_access_token',
            
            enableHotKey: true,
            isLocked: false
        })
        gitalk.render('comment-container')});</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="is-flex is-mobile" href="#基础简介"><span> 基础简介</span></a></li><li><a class="is-flex is-mobile" href="#apache配置文件解析"><span> Apache配置文件解析</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#基本概念"><span> 基本概念</span></a></li><li><a class="is-flex is-mobile" href="#虚拟主机及主机概念"><span> 虚拟主机及主机概念</span></a></li><li><a class="is-flex is-mobile" href="#指令listen"><span> 指令：Listen</span></a></li><li><a class="is-flex is-mobile" href="#指令serverroot"><span> 指令：ServerRoot</span></a></li><li><a class="is-flex is-mobile" href="#指令servername"><span> 指令：ServerName</span></a></li><li><a class="is-flex is-mobile" href="#指令directoryindex"><span> 指令：DirectoryIndex</span></a></li><li><a class="is-flex is-mobile" href="#指令include"><span> 指令：Include</span></a></li><li><a class="is-flex is-mobile" href="#指令allowoverride"><span> 指令：AllowOverride</span></a></li><li><a class="is-flex is-mobile" href="#指令require"><span> 指令：Require</span></a></li><li><a class="is-flex is-mobile" href="#容器directory"><span> 容器：Directory</span></a></li><li><a class="is-flex is-mobile" href="#容器location"><span> 容器：Location</span></a></li><li><a class="is-flex is-mobile" href="#容器virtualhost"><span> 容器：VirtualHost</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#httpd配置示例及解析"><span> httpd配置示例及解析</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#服务器环境描述"><span> 服务器环境描述</span></a></li><li><a class="is-flex is-mobile" href="#示例"><span> 示例</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#常规web网站"><span> 常规web网站</span></a></li><li><a class="is-flex is-mobile" href="#基于ip地址的虚拟主机配置"><span> 基于IP地址的虚拟主机配置</span></a></li><li><a class="is-flex is-mobile" href="#基于端口的虚拟主机配置"><span> 基于端口的虚拟主机配置</span></a></li><li><a class="is-flex is-mobile" href="#基于域名的虚拟主机配置"><span> 基于域名的虚拟主机配置</span></a></li><li><a class="is-flex is-mobile" href="#apache的用户授权控制"><span> Apache的用户授权控制</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#解析"><span> 解析</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#关闭防火墙"><span> 关闭防火墙</span></a></li><li><a class="is-flex is-mobile" href="#对一个物理网卡绑定多个虚拟ip"><span> 对一个物理网卡绑定多个虚拟IP</span></a></li><li><a class="is-flex is-mobile" href="#hosts文件"><span> hosts文件</span></a></li><li><a class="is-flex is-mobile" href="#htpasswd命令"><span> htpasswd命令</span></a></li></ul></li></ul></li><li><a class="is-flex is-mobile" href="#展示一个默认yum安装后的apache主配置文件"><span> 展示一个默认yum安装后的Apache主配置文件</span></a></li></ul></div></div><style>.menu-list > li > a.is-active + .menu-list { display: block; }.menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://s2.loli.net/2022/03/21/7ufJAeOpqlSwycR.png" alt="樱缘柒柒"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">樱缘柒柒</p><p class="is-size-6 is-block">一个真正的人啊，是要有趣味和心的，，，我已经失去了趣味，还弄脏了我的心，</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>the earth</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">130</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">31</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">58</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/sayurinana" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/sayurinana"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:sayurinana@163.com"><i class="fa fa-envelope"></i></a></div><div><hr><p id="hitokoto">:D 一言句子获取中...</p><script type="text/javascript" defer>function getYiyan(){
                                $.getJSON("https://v1.hitokoto.cn/", function (data) {
                                if(data){
                                    $('#hitokoto').html("");
                                    $('#hitokoto').append("<strong style='color: #3273dc;'>"+data.hitokoto+"</strong>"+
                                    "<p>"+"来源《"+data.from+"》</p><p>提供者-"+data.creator+"</p>");
                                }});}
                                $(function (){getYiyan();$('#hitokoto').click(function(){getYiyan();})});</script></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/log/"><span class="tag">log</span><span class="tag is-grey-lightest">76</span></a></div><div class="control"><a class="tags has-addons" href="/tags/encrypt/"><span class="tag">encrypt</span><span class="tag is-grey-lightest">51</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B8%AD%E8%81%8C%E5%AD%A6%E4%B9%A0/"><span class="tag">中职学习</span><span class="tag is-grey-lightest">17</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%A4%8D%E4%B9%A0/"><span class="tag">复习</span><span class="tag is-grey-lightest">16</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Windows/"><span class="tag">Windows</span><span class="tag is-grey-lightest">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BD%92%E7%BA%B3/"><span class="tag">归纳</span><span class="tag is-grey-lightest">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DeBug/"><span class="tag">DeBug</span><span class="tag is-grey-lightest">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Qt5/"><span class="tag">Qt5</span><span class="tag is-grey-lightest">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/word/"><span class="tag">word</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/wps/"><span class="tag">wps</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/schema/"><span class="tag">schema</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AE%89%E8%A3%85/"><span class="tag">安装</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Node-js/"><span class="tag">Node.js</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8E%A8%E8%8D%90/"><span class="tag">推荐</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DNS/"><span class="tag">DNS</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MSVC/"><span class="tag">MSVC</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/apache/"><span class="tag">apache</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/debug/"><span class="tag">debug</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%8E%AF%E5%A2%83/"><span class="tag">环境</span><span class="tag is-grey-lightest">2</span></a></div></div><div class="field is-grouped is-grouped-multiline"><a class="tags has-addons" href="/tags/"><span class="tag">查看全部&gt;&gt;</span></a></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">公告栏</h3><ul><li><span><span>1. 2020.2.20 初建</span></span></li><li><span><span>2. 首页的<del>文章</del>内容是被定义的排序，<a href="/archives">归档</a>的内容是按时间轴铺展的</span></span></li><li><span><span>3. 含有负面内容（如负面情绪）、R18内容（如血腥、色情、暴力等，虽然应该不会有啦）、部分特别内容的文章，会使用加密</span></span></li><li><span><span>4. 部分文章没开评论区的可以发<a href="mailto:sayurinana@163.com">e-mail</a>或者前往<a href="/message">留言板</a></span></span></li><li><span><span>5. 有过更新的篇目会在文章首部摘要之后有更新记录</span></span></li><li><span><span>6. 唔，我习惯把一些相对独立的过程或者操作单独编辑一篇出来，然后在需要用到的地方使用超链接引用，比如说解决问题、安装过程、常有多种方法的操作等，这样，作为单独的一篇，能叙述清晰一些，且通过引用能减少赘述</span></span></li></ul></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://space.bilibili.com/234561771" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">BiliBili</span></span><span class="level-right"><span class="level-item tag">space.bilibili.com</span></span></a></li><li><a class="level is-mobile" href="https://quickref.me/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">QuickRef</span></span><span class="level-right"><span class="level-item tag">quickref.me</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新评论</h3><span class="body_hot_comment">加载中，最新评论有1分钟缓存...</span></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/DeBug/"><span class="level-start"><span class="level-item">DeBug</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Language/"><span class="level-start"><span class="level-item">Language</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Language/C/"><span class="level-start"><span class="level-item">C++</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Language/LaTeX/"><span class="level-start"><span class="level-item">LaTeX</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Language/MarkDown/"><span class="level-start"><span class="level-item">MarkDown</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Language/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/MySQL/"><span class="level-start"><span class="level-item">MySQL</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/MySQL/MySQL5-7/"><span class="level-start"><span class="level-item">MySQL5.7</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/Qt/"><span class="level-start"><span class="level-item">Qt</span></span><span class="level-end"><span class="level-item tag">8</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Qt/Qt5/"><span class="level-start"><span class="level-item">Qt5</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></li><a class="level is-mobile is-marginless" href="/categories/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-03-02T13:16:30.000Z">2024-03-02</time></p><p class="title"><a href="/2024-03-02/VMware%E4%BD%BF%E7%94%A8%E7%89%A9%E7%90%86%E7%A1%AC%E7%9B%98/">VMware使用物理硬盘</a></p><p class="categories"><a href="/categories/%E5%85%B3%E4%BA%8E/">关于</a> / <a href="/categories/%E5%85%B3%E4%BA%8E/%E8%BD%AF%E4%BB%B6/">软件</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-03-02T10:13:13.000Z">2024-03-02</time></p><p class="title"><a href="/2024-03-02/%E5%88%9B%E5%BB%BAssh%E7%A7%98%E9%92%A5%E5%92%8C%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%8A%A8%E7%99%BB%E5%BD%95/">创建ssh秘钥和设置自动登录</a></p><p class="categories"><a href="/categories/%E5%85%B3%E4%BA%8E/">关于</a> / <a href="/categories/%E5%85%B3%E4%BA%8E/%E8%BD%AF%E4%BB%B6/">软件</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-03-02T10:10:39.000Z">2024-03-02</time></p><p class="title"><a href="/2024-03-02/docker%E9%95%9C%E5%83%8F%E7%9A%84%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D/">docker镜像的备份恢复</a></p><p class="categories"><a href="/categories/%E5%85%B3%E4%BA%8E/">关于</a> / <a href="/categories/%E5%85%B3%E4%BA%8E/%E8%BD%AF%E4%BB%B6/">软件</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-02-29T11:59:59.000Z">2024-02-29</time></p><p class="title"><a href="/2024-02-29/Windows%E5%AE%89%E8%A3%85MySQL5-7/">Windows安装MySQL5.7</a></p><p class="categories"><a href="/categories/%E5%85%B3%E4%BA%8E/">关于</a> / <a href="/categories/%E5%85%B3%E4%BA%8E/%E5%AE%89%E8%A3%85/">安装</a> / <a href="/categories/MySQL/">MySQL</a> / <a href="/categories/MySQL/MySQL5-7/">MySQL5.7</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-02-29T09:44:39.000Z">2024-02-29</time></p><p class="title"><a href="/2024-02-29/%E8%AE%B0%E5%BD%95npm%E4%BF%A1%E6%81%AF%EF%BC%9AXXX-packages-are-looking-for-funding/">记录npm信息：XXX packages are looking for funding</a></p><p class="categories"><a href="/categories/%E5%85%B3%E4%BA%8E/">关于</a> / <a href="/categories/DeBug/">DeBug</a> / <a href="/categories/%E5%85%B3%E4%BA%8E/%E8%BD%AF%E4%BB%B6/">软件</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2024/03/"><span class="level-start"><span class="level-item">三月 2024</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2024/02/"><span class="level-start"><span class="level-item">二月 2024</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/02/"><span class="level-start"><span class="level-item">二月 2023</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/12/"><span class="level-start"><span class="level-item">十二月 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/11/"><span class="level-start"><span class="level-item">十一月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><a class="level is-mobile is-marginless" href="/archives/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><!--!--><div class="column-right-shadow is-hidden-widescreen"></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://s2.loli.net/2022/03/25/ehIx6UHAZfSsJKw.png" alt="柒柒の窝" height="28"></a><p class="size-small"><span>&copy; 2024 樱缘柒柒</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a> & <a href="https://github.com/removeif/hexo-theme-amazing" target="_blank">Amazing</a> <br><span>© <a href="http://www.beian.miit.gov.cn/" target="_blank">暂无备案号</a><br></span><span>© 版权说明：[本网站所有内容均收集于互联网或自己创作,<br />&nbsp;&nbsp;&nbsp;&nbsp;方便于网友与自己学习交流，如有侵权，请<a href="/message" target="_blank">留言</a>，立即处理]<br /></span><span><span id="statistic-times">loading...</span><script>function createTime(time) {
            var n = new Date(time);
            now.setTime(now.getTime() + 250),
                days = (now - n) / 1e3 / 60 / 60 / 24,
                dnum = Math.floor(days),
                hours = (now - n) / 1e3 / 60 / 60 - 24 * dnum,
                hnum = Math.floor(hours),
            1 == String(hnum).length && (hnum = "0" + hnum),
                minutes = (now - n) / 1e3 / 60 - 1440 * dnum - 60 * hnum,
                mnum = Math.floor(minutes),
            1 == String(mnum).length && (mnum = "0" + mnum),
                seconds = (now - n) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,
                snum = Math.round(seconds),
            1 == String(snum).length && (snum = "0" + snum),
                document.getElementById("statistic-times").innerHTML = "❤️本站自 <strong>"+time.split(" ")[0].replace(/\//g,".")+"</strong> 已运行 <strong>" + dnum + "</strong> 天 <strong>" + hnum + "</strong> 小时 <strong>" + mnum + "</strong> 分 <strong>" + snum + "</strong> 秒！❤️";
        }var now = new Date();setInterval("createTime('2020/02/20 15:00:00')", 250,"");</script><br></span><div class="size-small"><span>❤️感谢 <strong><span id="busuanzi_value_site_uv">99+</span></strong> 小伙伴的 <strong><span id="busuanzi_value_site_pv">99+</span></strong> 次光临！❤️</span></div></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/removeif/hexo-theme-amazing"><i class="fab fa-github"></i></a></p></div><div class="sideMusic"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="/js/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><meting-js style="width: auto;height: 2000px;" server="netease" type="playlist" id="7425337956" theme="#2980b9" loop="all" autoplay="false" order="list" storageName="aplayer-setting" lrctype="0" list-max-height="400px" fixed="true"></meting-js></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" async></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script>$.getScript('/js/comment-issue-data.js',function(){loadIssueData('3da56ebfa6536d0515b0','638cd5e6cd30ea36c385f04da1ae0585a7d08503','sayurinana','Gitalk_for_sayurinana_ink',false);})</script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script><script type="text/javascript">var pjax = new Pjax({
            elements: "a",//代表点击链接就更新
            selectors: [  //代表要更新的节点
                ".section",
                "title"
            ],
            cache: true,
            cacheBust:false
        })

        function loadBusuanzi(){
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js", function () {});
        }

        function loadMathJax() { //加载mathjax
            $.getScript("//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML", function () {
                MathJax.Hub.Config({ tex2jax: { inlineMath: [['$', '$'], ['\(', '\)']] } });
                var math = document.getElementsByClassName("entry-content")[0];
                MathJax.Hub.Queue(["Typeset", MathJax.Hub, math]);
            });
        };

        // 开始 PJAX 执行的函数
        document.addEventListener('pjax:send', function () {
        });
        
        // PJAX 完成之后执行的函数，可以和上面的重载放在一起
        document.addEventListener('pjax:complete', function () {
            $(".section").css({opacity:1});
            if(true){
                $.getScript('/js/comment-issue-data.js',function(){loadIssueData('3da56ebfa6536d0515b0','638cd5e6cd30ea36c385f04da1ae0585a7d08503','sayurinana','Gitalk_for_sayurinana_ink',false);});
            }
            if(false){
                loadMathJax();
            }
            loadMainJs(jQuery, window.moment, window.ClipboardJS, window.IcarusThemeSettings);
            loadBackTop();
            loadBusuanzi();
            if(typeof loadBanner == 'function'){
                loadBanner();
            }
        });</script></body></html>